{"version":3,"names":["interceptedClick","disabled","this","HTMLElement","prototype","click","call","onPointerDown","event","preventDefault","nonBubblingWhenDisabledMouseEvents","onNonBubblingWhenDisabledMouseEvent","target","stopImmediatePropagation","captureOnlyOptions","capture","updateHostInteraction","component","hostIsTabbable","el","setAttribute","contains","document","activeElement","blur","addEventListener","forEach","removeEventListener","removeAttribute"],"sources":["./node_modules/@esri/calcite-components/dist/collection/utils/interactive.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nfunction interceptedClick() {\n  const { disabled } = this;\n  if (!disabled) {\n    HTMLElement.prototype.click.call(this);\n  }\n}\nfunction onPointerDown(event) {\n  // prevent click from moving focus on host\n  event.preventDefault();\n}\nconst nonBubblingWhenDisabledMouseEvents = [\"mousedown\", \"mouseup\", \"click\"];\nfunction onNonBubblingWhenDisabledMouseEvent(event) {\n  const { disabled } = event.target;\n  // prevent disallowed mouse events from being emitted on the disabled host (per https://github.com/whatwg/html/issues/5886)\n  //⚠ we generally avoid stopping propagation of events, but this is needed to adhere to the intended spec changes above ⚠\n  if (disabled) {\n    event.stopImmediatePropagation();\n    event.preventDefault();\n  }\n}\nconst captureOnlyOptions = { capture: true };\n/**\n * This helper updates the host element to prevent keyboard interaction on its subtree and sets the appropriate aria attribute for accessibility.\n *\n * This should be used in the `componentDidRender` lifecycle hook.\n *\n * **Notes**\n *\n * this util is not needed for simple components whose root element or elements are an interactive component (custom element or native control). For those cases, set the `disabled` props on the root components instead.\n * technically, users can override `tabindex` and restore keyboard navigation, but this will be considered user error\n *\n * @param component\n * @param hostIsTabbable\n */\nexport function updateHostInteraction(component, hostIsTabbable = false) {\n  if (component.disabled) {\n    component.el.setAttribute(\"tabindex\", \"-1\");\n    component.el.setAttribute(\"aria-disabled\", \"true\");\n    if (component.el.contains(document.activeElement)) {\n      document.activeElement.blur();\n    }\n    component.el.click = interceptedClick;\n    component.el.addEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n    nonBubblingWhenDisabledMouseEvents.forEach((event) => component.el.addEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n    return;\n  }\n  component.el.click = HTMLElement.prototype.click;\n  component.el.removeEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n  nonBubblingWhenDisabledMouseEvents.forEach((event) => component.el.removeEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n  if (typeof hostIsTabbable === \"function\") {\n    component.el.setAttribute(\"tabindex\", hostIsTabbable.call(component) ? \"0\" : \"-1\");\n  }\n  else if (hostIsTabbable === true) {\n    component.el.setAttribute(\"tabindex\", \"0\");\n  }\n  else if (hostIsTabbable === false) {\n    component.el.removeAttribute(\"tabindex\");\n  }\n  else {\n    // noop for \"managed\" as owning component will manage its tab index\n  }\n  component.el.removeAttribute(\"aria-disabled\");\n}\n"],"mappings":";;;;;AAKA,SAASA,IACP,MAAMC,SAAEA,GAAaC,KACrB,IAAKD,EAAU,CACbE,YAAYC,UAAUC,MAAMC,KAAKJ,KACrC,CACA,CACA,SAASK,EAAcC,GAErBA,EAAMC,gBACR,CACA,MAAMC,EAAqC,CAAC,YAAa,UAAW,SACpE,SAASC,EAAoCH,GAC3C,MAAMP,SAAEA,GAAaO,EAAMI,OAG3B,GAAIX,EAAU,CACZO,EAAMK,2BACNL,EAAMC,gBACV,CACA,CACA,MAAMK,EAAqB,CAAEC,QAAS,MAc/B,SAASC,EAAsBC,EAAWC,EAAiB,OAChE,GAAID,EAAUhB,SAAU,CACtBgB,EAAUE,GAAGC,aAAa,WAAY,MACtCH,EAAUE,GAAGC,aAAa,gBAAiB,QAC3C,GAAIH,EAAUE,GAAGE,SAASC,SAASC,eAAgB,CACjDD,SAASC,cAAcC,MAC7B,CACIP,EAAUE,GAAGd,MAAQL,EACrBiB,EAAUE,GAAGM,iBAAiB,cAAelB,EAAeO,GAC5DJ,EAAmCgB,SAASlB,GAAUS,EAAUE,GAAGM,iBAAiBjB,EAAOG,EAAqCG,KAChI,MACJ,CACEG,EAAUE,GAAGd,MAAQF,YAAYC,UAAUC,MAC3CY,EAAUE,GAAGQ,oBAAoB,cAAepB,EAAeO,GAC/DJ,EAAmCgB,SAASlB,GAAUS,EAAUE,GAAGQ,oBAAoBnB,EAAOG,EAAqCG,KACnI,UAAWI,IAAmB,WAAY,CACxCD,EAAUE,GAAGC,aAAa,WAAYF,EAAeZ,KAAKW,GAAa,IAAM,KACjF,MACO,GAAIC,IAAmB,KAAM,CAChCD,EAAUE,GAAGC,aAAa,WAAY,IAC1C,MACO,GAAIF,IAAmB,MAAO,CACjCD,EAAUE,GAAGS,gBAAgB,WACjC,MAIEX,EAAUE,GAAGS,gBAAgB,gBAC/B,Q"}