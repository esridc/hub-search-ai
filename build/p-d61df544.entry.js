import{r as t,h as a,H as i,g as e}from"./p-29cdcf48.js";import{s as n,h as s,j as o}from"./p-2752c00d.js";import{a as c,s as r,c as l}from"./p-49bfd61d.js";import{c as f,d as m}from"./p-9d22fb54.js";import{u as h,c as d,s as p,d as u}from"./p-97b95874.js";import{c as g}from"./p-8725476e.js";import"./p-7d251f50.js";import"./p-7865f4b5.js";import"./p-7fc09c90.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.4.2
 */const y=["lang","role"];const v=new Map;let x;function w(t,a,i=false){const{el:e}=t;const n=i?t.globalAttributes:{};a.filter((t=>!!y.includes(t)&&!!e.hasAttribute(t))).forEach((t=>{const a=e.getAttribute(t);if(a!==null){n[t]=a}}));t.globalAttributes=n}function b(t){t.forEach((({target:t})=>{const[a,i]=v.get(t);w(a,i.attributeFilter)}))}function D(t,a){const{el:i}=t;const e={attributeFilter:a};v.set(i,[t,e]);w(t,a,true);if(!x){x=g("mutation",b)}x.observe(i,e)}function _(t){v.delete(t.el);b(x.takeRecords());x.disconnect();for(const[t,[,a]]of v.entries()){x.observe(t,a)}}const j="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{display:flex}ul{margin:0px;display:inline-flex;block-size:100%;align-items:center;padding:0px}:host([layout=vertical]) ul{display:flex;inline-size:100%;flex-direction:column}";const k=class{constructor(a){t(this,a);this.menuItems=[];this.handleMenuSlotChange=t=>{this.menuItems=n(t);this.setMenuItemLayout(this.menuItems,this.layout)};this.label=undefined;this.layout="horizontal";this.messageOverrides=undefined;this.messages=undefined;this.defaultMessages=undefined;this.effectiveLocale="";this.globalAttributes={role:"menubar"}}handleLayoutChange(t){this.setMenuItemLayout(this.menuItems,t)}onMessagesChange(){}effectiveLocaleChange(){h(this,this.effectiveLocale)}connectedCallback(){f(this);d(this);D(this,["role"])}async componentWillLoad(){c(this);await p(this)}componentDidLoad(){r(this)}disconnectedCallback(){m(this);u(this);_(this)}async setFocus(){await l(this);this.el.focus()}calciteInternalNavMenuItemKeyEvent(t){const a=t.target;const i=t.detail.children;const e=t.detail.event.key;t.stopPropagation();if(e==="ArrowDown"){if(a.layout==="vertical"){s(this.menuItems,a,"next",false)}else{if(t.detail.isSubmenuOpen){i[0].setFocus()}}}else if(e==="ArrowUp"){if(this.layout==="vertical"){s(this.menuItems,a,"previous",false)}else{if(t.detail.isSubmenuOpen){i[i.length-1].setFocus()}}}else if(e==="ArrowRight"){if(this.layout==="horizontal"){s(this.menuItems,a,"next",false)}else{if(t.detail.isSubmenuOpen){i[0].setFocus()}}}else if(e==="ArrowLeft"){if(this.layout==="horizontal"){s(this.menuItems,a,"previous",false)}else{if(t.detail.isSubmenuOpen){this.focusParentElement(t.target)}}}else if(e==="Escape"){this.focusParentElement(t.target)}t.preventDefault()}focusParentElement(t){const a=t.parentElement;if(a){o(a);a.open=false}}setMenuItemLayout(t,a){t.forEach((t=>{t.layout=a;if(this.globalAttributes.role==="menubar"){t.isTopLevelItem=true;t.topLevelMenuLayout=this.layout}}))}render(){return a(i,null,a("ul",Object.assign({"aria-label":this.label},this.globalAttributes),a("slot",{onSlotchange:this.handleMenuSlotChange})))}static get delegatesFocus(){return true}static get assetsDirs(){return["assets"]}get el(){return e(this)}static get watchers(){return{layout:["handleLayoutChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};k.style=j;export{k as calcite_menu};
//# sourceMappingURL=p-d61df544.entry.js.map